<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PicoChess - Demo Tablero Madera Natural</title>
    <link rel="shortcut icon" type="image/x-icon" href="/static/img/favicon.ico">
    <link rel="stylesheet" href="/static/css/bootstrap-5.5.2.min.css" />
    <link rel="stylesheet" href="/static/css/chessground/chessground.css" />
    <link rel="stylesheet" href="/static/css/chessground/theme_natural_wood.css" />
    <link rel="stylesheet" type="text/css" href="/static/css/datatables.min.css" />
    <link rel="stylesheet" href="/static/css/font-awesome.min.css" />
    <link rel="stylesheet" href="/static/css/mdb.dark.min.css" />
    <link rel="stylesheet" href="/static/css/select.dataTables.css" />
    <link rel="stylesheet" href="/static/css/dataTables.bootstrap5.min.css" />
    <link rel="stylesheet" href="/static/css/custom.css" />
    <link rel="stylesheet" href="/static/css/engine-analysis.css" />

    <script type="text/javascript" src="/static/js/jquery-3.6.1.min.js"></script>
    <script type="text/javascript" src="/static/js/datatables.min.js"></script>
    <script type="text/javascript" src="/static/js/dataTables.select.min.js"></script>
    <script type="text/javascript" src="/static/js/dataTables.bootstrap5.min.js"></script>
    <script type="text/javascript" src="/static/js/bootstrap-5.5.2.min.js"></script>
    <script type="text/javascript" src="/static/js/chess960.min.js"></script>
    <script type="text/javascript" src="/static/js/chessground.min.js"></script>
    
    <style>
        body {
            background: linear-gradient(135deg, #2c1810 0%, #4a2c1a 50%, #2c1810 100%);
            color: #f5deb3;
            font-family: 'Georgia', serif;
        }
        
        .demo-header {
            background: linear-gradient(135deg, #8B4513, #CD853F);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            text-align: center;
        }
        
        .demo-description {
            background: rgba(139, 69, 19, 0.1);
            border: 2px solid #8B4513;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .features-list {
            background: rgba(205, 133, 63, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }
        
        .card {
            background: rgba(139, 69, 19, 0.2);
            border: 2px solid #8B4513;
        }
        
        .card-header {
            background: linear-gradient(135deg, #8B4513, #A0522D);
            color: white;
            border-bottom: 2px solid #654321;
        }
        
        .btn-wood {
            background: linear-gradient(135deg, #8B4513, #CD853F);
            border: 2px solid #654321;
            color: white;
            transition: all 0.3s ease;
        }
        
        .btn-wood:hover {
            background: linear-gradient(135deg, #A0522D, #D2B48C);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>

<body>
    <script type="text/javascript" src="/static/js/mdb.min.js"></script>
    
    <div class="container-fluid">
        <!-- Header Demo -->
        <div class="demo-header">
            <h1><i class="fa fa-chess-board"></i> PicoChess - Tablero Madera Natural</h1>
            <p class="lead">Demostración del nuevo tema de madera con colores realistas</p>
        </div>
        
        <div class="row">
            <!-- Columna del Tablero -->
            <div class="col-lg-8">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fa fa-chess"></i> Tablero de Ajedrez - Tema Madera Natural</h3>
                    </div>
                    <div class="card-body" style="position:relative;">
                        <!-- Tablero con tema de madera natural -->
                        <section id="xboardsection" class="natural-wood merida svg-container">
                            <div class="board-container">
                                <div id="board" class="svg-content" style="margin-bottom: 10px;"></div>
                            </div>
                        </section>
                        
                        <!-- Controles del tablero -->
                        <div class="container-fluid" id="boardcontrol">
                            <div class="row" id="boardButtons" style="margin-top: 15px;">
                                <div class="text-center">
                                    <div class="btn-group btn-group-lg d-flex" role="group">
                                        <button type="button" id="flipOrientationBtn" class="btn btn-wood">
                                            <i class="fa fa-refresh"></i> Voltear
                                        </button>
                                        <button type="button" id="startBtn" class="btn btn-wood">
                                            <i class='fa fa-fast-backward'></i> Inicio
                                        </button>
                                        <button type="button" id="backBtn" class="btn btn-wood">
                                            <i class='fa fa-arrow-left'></i> Atrás
                                        </button>
                                        <button type="button" id="fwdBtn" class="btn btn-wood">
                                            <i class='fa fa-arrow-right'></i> Adelante
                                        </button>
                                        <button type="button" id="endBtn" class="btn btn-wood">
                                            <i class='fa fa-fast-forward'></i> Final
                                        </button>
                                        <button type="button" id="newGameBtn" class="btn btn-wood">
                                            <i class='fa fa-plus'></i> Nueva Partida
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row" style="margin-top: 15px;">
                                <div class="col text-center">
                                    <div class="demo-description">
                                        <h4><i class="fa fa-info-circle"></i> Estado del Juego</h4>
                                        <p><span id="sidetomove"></span> <span id="BoardStatus">Turno de las Blancas</span></p>
                                        <p><strong>Posición:</strong> <span id="currentFen">Posición inicial</span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Columna de Información -->
            <div class="col-lg-4">
                <div class="card">
                    <div class="card-header">
                        <h4><i class="fa fa-palette"></i> Características del Tema</h4>
                    </div>
                    <div class="card-body">
                        <div class="features-list">
                            <h5><i class="fa fa-check-circle text-success"></i> Características Visuales:</h5>
                            <ul>
                                <li><strong>Casillas Claras:</strong> Madera de arce con vetas naturales</li>
                                <li><strong>Casillas Oscuras:</strong> Madera de nogal con gradientes realistas</li>
                                <li><strong>Marco:</strong> Borde de madera tallada con efectos 3D</li>
                                <li><strong>Piezas:</strong> Sombras realistas y efectos hover</li>
                                <li><strong>Animaciones:</strong> Transiciones suaves y brillos dorados</li>
                            </ul>
                            
                            <h5 style="margin-top: 20px;"><i class="fa fa-cog text-info"></i> Efectos Especiales:</h5>
                            <ul>
                                <li>Casillas seleccionadas con brillo dorado animado</li>
                                <li>Movimientos válidos con indicador verde esmeralda</li>
                                <li>Última jugada resaltada en naranja suave</li>
                                <li>Jaque con efecto de peligro pulsante</li>
                                <li>Vetas de madera procedurales en cada casilla</li>
                            </ul>
                            
                            <h5 style="margin-top: 20px;"><i class="fa fa-mobile text-warning"></i> Responsive:</h5>
                            <ul>
                                <li>Optimizado para pantallas de alta resolución</li>
                                <li>Adaptable a diferentes tamaños de pantalla</li>
                                <li>Efectos visuales escalables</li>
                            </ul>
                        </div>
                        
                        <div style="margin-top: 20px; text-align: center;">
                            <button class="btn btn-wood btn-lg" onclick="demoEffects()">
                                <i class="fa fa-magic"></i> Demostrar Efectos
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Panel de Movimientos -->
                <div class="card" style="margin-top: 20px;">
                    <div class="card-header">
                        <h4><i class="fa fa-list"></i> Historial de Movimientos</h4>
                    </div>
                    <div class="card-body">
                        <div id="moveHistory" style="max-height: 200px; overflow-y: auto; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 5px;">
                            <p><em>Los movimientos aparecerán aquí...</em></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="row" style="margin-top: 30px;">
            <div class="col text-center">
                <div class="demo-description">
                    <h4><i class="fa fa-info"></i> Acerca de este Demo</h4>
                    <p>Este es un ejemplo del proyecto <strong>PicoChess</strong> con el nuevo tema "Madera Natural" que simula un tablero de ajedrez clásico de madera real.</p>
                    <p>El tema combina colores realistas de madera de arce y nogal con efectos visuales modernos para crear una experiencia de juego elegante y natural.</p>
                    <p><strong>Versión:</strong> PicoChess 4.1.3 | <strong>Tema:</strong> Natural Wood v1.0</p>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="/static/js/app.js"></script>
    
    <script>
        // Configuración específica para el demo
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar el tablero con una posición de ejemplo
            var cfg = {
                fen: 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1',
                movable: {
                    color: 'white',
                    free: false,
                    dests: toDests(Chess())
                },
                draggable: {
                    enabled: true,
                    showGhost: true
                },
                highlight: {
                    lastMove: true,
                    check: true
                },
                animation: {
                    enabled: true,
                    duration: 300
                }
            };
            
            var chessground1 = new Chessground(document.getElementById('board'), cfg);
            
            // Configurar eventos de los botones
            $('#flipOrientationBtn').on('click', function() {
                chessground1.toggleOrientation();
            });
            
            $('#newGameBtn').on('click', function() {
                chessground1.set({
                    fen: 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1',
                    movable: { color: 'white' }
                });
                $('#moveHistory').html('<p><em>Nueva partida iniciada...</em></p>');
                updateStatus('Turno de las Blancas');
            });
            
            // Función para actualizar el estado
            function updateStatus(status) {
                $('#BoardStatus').text(status);
                $('#currentFen').text(chessground1.getFen ? chessground1.getFen() : 'Posición actual');
            }
            
            // Función de demostración de efectos
            window.demoEffects = function() {
                // Simular selección de casilla
                chessground1.selectSquare('e2');
                setTimeout(function() {
                    chessground1.set({
                        lastMove: ['e2', 'e4']
                    });
                    $('#moveHistory').html('<p>1. e4 - Apertura del Rey</p>');
                    updateStatus('Turno de las Negras');
                }, 1000);
                
                setTimeout(function() {
                    chessground1.set({
                        lastMove: ['e7', 'e5']
                    });
                    $('#moveHistory').html('<p>1. e4 e5 - Defensa del Rey</p>');
                    updateStatus('Turno de las Blancas');
                }, 2000);
            };
            
            // Inicializar estado
            updateStatus('Turno de las Blancas - Demo Listo');
            
            // Redimensionar tablero cuando cambie el tamaño de ventana
            $(window).resize(function() {
                chessground1.redrawAll();
            });
        });
    </script>
</body>

</html>